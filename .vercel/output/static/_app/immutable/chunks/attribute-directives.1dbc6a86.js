import{S as lr,i as ir,s as cr,k as o,a as r,r as s,l as p,m as l,h as n,c as u,u as a,W as rr,p as d,b as c,M as t,n as Rl}from"./index.26320ab0.js";function ur(Xc){let N,Te,Wl,Rn,ee,Kc=`<code class="language-text">Angular version: 8.x
Node Version: 10.9 or later</code>`,Wn,Pe,Bs,jn,Me,Ys,qn,te,Ns,ne,Ze,Bn,_,Us,$e,zs,Js,et,Fs,Gs,tt,Xs,Ks,Yn,se,Qs,ae,nt,Nn,xe,Vs,Un,oe,Zs,pe,st,zn,He,$s,Jn,T,at,ea,ta,ot,na,sa,pt,aa,Fn,Se,oa,Gn,Re,pa,Xn,le,Qc=`<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">appDropdown</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-btn<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Menu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://medium.com/@kylerjohnsondev<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Find me on Medium<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://twitter.com/KylerJohnsondev<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Find me on Twitter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/KylerJohnsondev<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dropdown-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Find me on Github<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code>`,Kn,We,la,Qn,ie,Vc=`<code class="language-css"><span class="token selector">.dropdown-btn</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #0288d1<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #0288d1<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.5em<span class="token punctuation">;</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.dropdown</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> #0288d1<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0 0.25em 0.25em 0.25em<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 40%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.dropdown-item</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid white<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.5em 0<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.dropdown-item:first-child</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid white<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0 0.25em 0 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.dropdown-item:last-child</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0 0 0.25em 0.25em<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.dropdown-item:hover</span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> magenta<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/*
 Below is the only CSS necessary to make this example work. The dropdown directive will add or remove the .open class when the click event is emitted.

 Note: By default, the display property of an element with the .dropdown class is set to none. When the dropdown directive applies the .open class to the dropdown button, the below CSS will set the display property of the sibling div with a class of .dropdown to block, making it visible.
*/</span>

<span class="token selector">.open</span> <span class="token punctuation">&#123;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.25em 0.25em 0 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.open + .dropdown</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,Vn,m,ia,lt,ca,ra,it,ua,da,ct,ha,fa,rt,ka,wa,ut,va,ma,Zn,ce,ya,re,dt,$n,U,Ea,ue,ba,Da,es,je,_a,ts,de,Zc=`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> HostListener <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appDropdown]'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DropdownDirective</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elRef<span class="token operator">:</span> ElementRef<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">HostListener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token function">toggleDropdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> buttonEl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elRef<span class="token punctuation">.</span>nativeElement
    <span class="token keyword">const</span> isOpen <span class="token operator">=</span> buttonEl<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">)</span>
    buttonEl<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token operator">!</span>isOpen<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,ns,O,Oa,ht,ga,Ca,ft,Ia,Aa,kt,La,Ta,ss,he,Pa,fe,wt,as,P,Ma,vt,xa,Ha,mt,Sa,Ra,os,z,Wa,yt,ja,qa,ps,ke,Ba,we,Et,ls,g,Ya,bt,Na,Ua,Dt,za,Ja,_t,Fa,Ga,is,C,Xa,Ot,Ka,Qa,gt,Va,Za,Ct,$a,eo,cs,M,to,It,no,so,At,ao,oo,rs,I,po,Lt,lo,io,Tt,co,ro,Pt,uo,ho,us,y,fo,Mt,ko,wo,xt,vo,mo,Ht,yo,Eo,ve,bo,Do,ds,J,St,_o,Oo,Y,Rt,Wt,go,Co,jt,qt,Io,Ao,Bt,Yt,Lo,hs,h,To,Nt,Po,Mo,Ut,xo,Ho,zt,So,Ro,Jt,Wo,jo,Ft,qo,Bo,Gt,Yo,No,Xt,Uo,zo,Kt,Jo,Fo,Qt,Go,Xo,Vt,Ko,Qo,fs,A,Vo,Zt,Zo,$o,$t,ep,tp,me,np,sp,ks,qe,ap,ws,ye,op,Ee,en,vs,x,pp,be,lp,ip,De,cp,rp,ms,F,up,tn,dp,hp,ys,_e,$c=`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> HostListener<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Renderer2 <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appDropdown]'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DropdownDirective</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elRef<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span> <span class="token keyword">private</span> renderer<span class="token operator">:</span> Renderer2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">HostListener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token function">toggleDropdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> buttonEl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elRef<span class="token punctuation">.</span>nativeElement
    <span class="token keyword">const</span> isOpen <span class="token operator">=</span> buttonEl<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>isOpen<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span>buttonEl<span class="token punctuation">,</span> <span class="token string">'open'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>buttonEl<span class="token punctuation">,</span> <span class="token string">'open'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,Es,H,fp,nn,kp,wp,sn,vp,mp,bs,f,yp,an,Ep,bp,on,Dp,_p,pn,Op,gp,ln,Cp,Ip,cn,Ap,Lp,rn,Tp,Pp,un,Mp,xp,dn,Hp,Sp,Ds,Be,Rp,_s,S,Wp,hn,jp,qp,fn,Bp,Yp,Os,Oe,Np,ge,kn,gs,E,Up,wn,zp,Jp,vn,Fp,Gp,mn,Xp,Kp,Ce,Qp,Vp,Cs,G,Zp,yn,$p,el,Is,Ie,er=`<code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Directive<span class="token punctuation">,</span> HostBinding<span class="token punctuation">,</span> HostListener <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Directive</span></span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  selector<span class="token operator">:</span> <span class="token string">'[appDropdown]'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DropdownDirective</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">HostBinding</span></span><span class="token punctuation">(</span><span class="token string">'class.open'</span><span class="token punctuation">)</span> isOpen <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">HostListener</span></span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token function">toggleDropdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isOpen <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isOpen
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,As,b,tl,En,nl,sl,bn,al,ol,Dn,pl,ll,_n,il,cl,Ls,Ye,rl,Ts,w,ul,On,dl,hl,gn,fl,kl,Cn,wl,vl,In,ml,yl,An,El,bl,Ln,Dl,_l,Ps,Ne,Ol,Ms,R,Tn,gl,Cl,Pn,Il,Al,Mn,Ll,xs,Ae,Tl,Le,xn,Hs,W,Pl,Hn,Ml,xl,Sn,Hl,Sl;return{c(){N=o("p"),Te=o("img"),Rn=r(),ee=o("pre"),Wn=r(),Pe=o("p"),Bs=s("You’re working on an Angular app trying to add an interactive UI element like a simple dropdown menu. You have twenty browser tabs open and you’re trying to learn the “Angular way” of doing it. You want to follow best practices, but your frustration level is rising and you find yourself thinking why is it so difficult to do something that would have taken 10 minutes with Jquery and Bootstrap. Sound familiar? If it does, you’ve come to the right place."),jn=r(),Me=o("p"),Ys=s("Don’t sweat it— you’ve got this! It’s actually the perfect use case for a custom attribute directive and I will cover everything you need to know in order to implement your own in minutes. Let’s dive in!"),qn=r(),te=o("h2"),Ns=s("What It Is"),ne=o("a"),Ze=o("span"),Bn=r(),_=o("p"),Us=s("Attribute directives change the appearance or behavior of an element, component, or another directive. Essentially, it is a class annotated with the Directive decorator where you specify what change you want to occur and what CSS event (if any) you want to trigger that change. "),$e=o("code"),zs=s("ngClass"),Js=s(", "),et=o("code"),Fs=s("ngStyle"),Gs=s(", and "),tt=o("code"),Xs=s("ngModel"),Ks=s(" are examples of attribute directives built-in to the Angular framework."),Yn=r(),se=o("h2"),Qs=s("When to Use It"),ae=o("a"),nt=o("span"),Nn=r(),xe=o("p"),Vs=s("You would use an attribute directive anytime you want logic or events to change the appearance or behavior of the view. Dropdowns, accordions, and tabs are just a few common use cases for custom attribute directives. When you have a UI element that will be common throughout your app, you can implement an attribute directive and share it across components and modules to avoid repeating the code for the same functionality."),Un=r(),oe=o("h2"),Zs=s("Getting Started"),pe=o("a"),st=o("span"),zn=r(),He=o("p"),$s=s("Before I get into how attribute directives work, I need to explain a few things. In order for attribute directives to accomplish what we want them to accomplish, they need to be able to access and modify DOM elements. There are three ways to accomplish this in an Angular directive:"),Jn=r(),T=o("ol"),at=o("li"),ea=s("ElementRef"),ta=r(),ot=o("li"),na=s("Renderer"),sa=r(),pt=o("li"),aa=s("HostBinding (This should be your default)"),Fn=r(),Se=o("p"),oa=s("I will show you examples of a dropdown menu that uses each one of these methods as I explain how they work. The HTML and CSS in each example will be exactly the same. Only the code in the Dropdown class will change from example to example."),Gn=r(),Re=o("p"),pa=s("The HTML:"),Xn=r(),le=o("pre"),Kn=r(),We=o("p"),la=s("The CSS:"),Qn=r(),ie=o("pre"),Vn=r(),m=o("p"),ia=s("The dropdown directive will add or remove the open class to the button element when the click event is emitted. The button class has a sibling div containing the dropdown links with a class of "),lt=o("code"),ca=s("dropdown"),ra=s(". By default, the display property of the dropdown div is set to none. When the dropdown directive applies the "),it=o("code"),ua=s("open"),da=s(" class to the dropdown button, the "),ct=o("code"),ha=s("display"),fa=s(" property of the dropdown div is set to "),rt=o("code"),ka=s("block"),wa=s(" further down in the cascade, making it visible. With this setup, adding and removing the "),ut=o("code"),va=s("open"),ma=s(" class will be how we display or hide the dropdown list."),Zn=r(),ce=o("h2"),ya=s("Attribute Directive using ElementRef"),re=o("a"),dt=o("span"),$n=r(),U=o("p"),Ea=s("In this section, we will look at a dropdown directive implementation using ElementRef. You can find the example to which I will refer on Stackblitz "),ue=o("a"),ba=s("here"),Da=s("."),es=r(),je=o("p"),_a=s("In this example, this is how our dropdown directive looks:"),ts=r(),de=o("pre"),ns=r(),O=o("p"),Oa=s("We have an attribute directive, "),ht=o("code"),ga=s("aDropdownDirective"),Ca=s(" class annotated with the "),ft=o("code"),Ia=s("Directive"),Aa=s(" decorator. Generally, decorators in Angular contain metadata the compiler needs to understand how a class should be processed, instantiated, and used at runtime. The only property required by a directive is the "),kt=o("code"),La=s("selector"),Ta=s(" property."),ss=r(),he=o("h2"),Pa=s("How to use the Dropdown Directive"),fe=o("a"),wt=o("span"),as=r(),P=o("p"),Ma=s("First, we need to import it into our module by adding it to the declarations array. Then we use the dropdown directive by placing the value of the "),vt=o("code"),xa=s("selector"),Ha=s(" property on the desired HTML element as if it were an attribute. In our case, it is "),mt=o("code"),Sa=s("appDropdown"),Ra=s("."),os=r(),z=o("p"),Wa=s("You can set the "),yt=o("code"),ja=s("selector"),qa=s(" property to whatever you want, but by convention, it is the name of your class prefixed with something relevant to your project. The reason for the prefix is to help avoid collisions with standard HTML attributes and other directives used by any 3rd-party libraries you may be importing."),ps=r(),ke=o("h2"),Ba=s("How it Works"),we=o("a"),Et=o("span"),ls=r(),g=o("p"),Ya=s("When the template parser reaches the button element on which we placed our "),bt=o("code"),Na=s("appDropdown"),Ua=s(" directive, the Angular compiler searches for a directive with a selector set to "),Dt=o("code"),za=s("appDropdown"),Ja=s(" and instantiates the class associated with it: The "),_t=o("code"),Fa=s("DropdownDirective"),Ga=s(" class."),is=r(),C=o("p"),Xa=s("In order to add and remove the "),Ot=o("code"),Ka=s("open"),Qa=s(" class and make our directive function, we need to access the button element on which we placed our directive. We can accomplish that by passing an object of type "),gt=o("code"),Va=s("ElementRef"),Za=s(" into the constructor of our directive. The Angular compiler understands that we want a reference to the host element injected into our directive and assigned to the "),Ct=o("code"),$a=s("elRef"),eo=s(" property. In this example, the host element is the button element because it is the element on which our dropdown directive is placed."),cs=r(),M=o("p"),to=s("The "),It=o("code"),no=s("HostListener"),so=s(" decorator allows us to specify what CSS event we want to listen for on the host element (our button element) and the function we want to execute when that event is emitted. In this example, the "),At=o("code"),ao=s("toggleDropdown"),oo=s(" function will be executed when a user clicks on the button element."),rs=r(),I=o("p"),po=s("In terms of Jquery, think of the "),Lt=o("code"),lo=s("HostListener"),io=s(" as the event method (think "),Tt=o("code"),co=s(".click()"),ro=s(") and the "),Pt=o("code"),uo=s("toggleDropdown"),ho=s(" function as the callback you want to execute when the event is triggered."),us=r(),y=o("p"),fo=s("You might be thinking "),Mt=o("em"),ko=s("The HostListener is weird. Can’t I just attach an event listener manually?"),wo=s(" The short answer is "),xt=o("em"),vo=s("Not Safely"),mo=s(". The "),Ht=o("code"),yo=s("HostListener"),Eo=s(" decorator solves some really important problems for you. In the "),ve=o("a"),bo=s("Angular Docs"),Do=s(", you will find the following excerpt:"),ds=r(),J=o("blockquote"),St=o("p"),_o=s(`Of course you could reach into the DOM with standard JavaScript and attach
event listeners manually. There are at least three problems with that approach:`),Oo=r(),Y=o("ol"),Rt=o("li"),Wt=o("p"),go=s("You have to write listeners correctly."),Co=r(),jt=o("li"),qt=o("p"),Io=s(`The code must detach the the listener when the directive is destroyed to avoid
memory leaks.`),Ao=r(),Bt=o("li"),Yt=o("p"),Lo=s("Talking to DOM API directly isn’t a best practice"),hs=r(),h=o("p"),To=s("Now, let’s take a look at what is happening inside of the "),Nt=o("code"),Po=s("toggleClass"),Mo=s(" function. We get the DOM representation of the button element from the "),Ut=o("code"),xo=s("nativeElement"),Ho=s(" property the same as if we were to use a Jquery element selector. If the "),zt=o("code"),So=s("classList"),Ro=s(" DOM property contains the "),Jt=o("code"),Wo=s("open"),jo=s(" class, "),Ft=o("code"),qo=s("isOpen"),Bo=s(" is true and the "),Gt=o("code"),Yo=s("toggle"),No=s(" method removes the "),Xt=o("code"),Uo=s("open"),zo=s(" class and closes the dropdown. Likewise, if the open class is not found in the "),Kt=o("code"),Jo=s("classList"),Fo=s(", "),Qt=o("code"),Go=s("isOpen"),Xo=s(" is false and the toggle method adds the "),Vt=o("code"),Ko=s("open"),Qo=s(" class and opens the dropdown."),fs=r(),A=o("p"),Vo=s("Remember when we we decided earlier that we should use the "),Zt=o("code"),Zo=s("HostListener"),$o=s(" decorator because it is not a good idea to access the DOM directly? Using "),$t=o("code"),ep=s("ElementRef"),tp=s(" to access the DOM and manipulate it is doing just that. Permitting direct access to the DOM like this can make your app more vulnerable to XSS attacks. For information, check out the "),me=o("a"),np=s("Angular security guide"),sp=s("."),ks=r(),qe=o("p"),ap=s("In addition, this method of manipulating the DOM tightly couples the DOM and the rendering layer. This is problematic if you ever want to use web/service workers, as they cannot directly access the DOM. Luckily, there is an alternative method out there which leads me to the second way to implement the dropdown attribute directive."),ws=r(),ye=o("h2"),op=s("Attribute Directive using Renderer2"),Ee=o("a"),en=o("span"),vs=r(),x=o("p"),pp=s("The "),be=o("a"),lp=s("Renderer2"),ip=s(" API offers a way to bypass Angular’s templating and make custom UI changes that can’t be expressed declaratively. That means that web and service workers can safely use this method. You can find this example on Stackblitz "),De=o("a"),cp=s("here"),rp=s("."),ms=r(),F=o("p"),up=s("Let’s take a look at what our "),tn=o("code"),dp=s("dropdown.directive.ts"),hp=s(" file looks like now."),ys=r(),_e=o("pre"),Es=r(),H=o("p"),fp=s("Note that we still inject the "),nn=o("code"),kp=s("ElementRef"),wp=s(" to get the reference to the host element; however, we inject the "),sn=o("code"),vp=s("Renderer2"),mp=s(" in order to make changes to the view."),bs=r(),f=o("p"),yp=s("Like in the previous example, we get the "),an=o("code"),Ep=s("isOpen"),bp=s(" boolean value by checking to see if the "),on=o("code"),Dp=s("classList"),_p=s(" property contains the "),pn=o("code"),Op=s("open"),gp=s(" class. If true, the dropdown is open and we use the "),ln=o("code"),Cp=s("removeClass"),Ip=s(" method on the Renderer2 API to remove the "),cn=o("code"),Ap=s("open"),Lp=s(" class and close the dropdown. Inversely, if "),rn=o("code"),Tp=s("isOpen"),Pp=s(" is false, we call the "),un=o("code"),Mp=s("addClass"),xp=s(" method on the Renderer2 API to add the "),dn=o("code"),Hp=s("open"),Sp=s(" class and open the dropdown."),Ds=r(),Be=o("p"),Rp=s("By using the Renderer2 API, we intercept calls to the renderer and modify the template rather than making changes to the DOM directly. This decouples the rendering layers and the DOM, making the use of web/service workers possible."),_s=r(),S=o("p"),Wp=s("As we discussed earlier, because we’re still injecting the "),hn=o("code"),jp=s("ElementRef"),qp=s(" there is still the the possibility that we are introducing a security vulnerability into our application. We can solve this problem with the "),fn=o("code"),Bp=s("HostBinding"),Yp=s(" decorator, which leads me to the third way to implement an attribute directive."),Os=r(),Oe=o("h2"),Np=s("Attribute Directive with HostBinding"),ge=o("a"),kn=o("span"),gs=r(),E=o("p"),Up=s("The "),wn=o("code"),zp=s("HostingBinding"),Jp=s(" decorator allows us to mark a DOM property as a host-binding property. In other words, we can bind a DOM property on the host element to local property on our "),vn=o("code"),Fp=s("DropdownDirective"),Gp=s(" class by passing the DOM property into the "),mn=o("code"),Xp=s("Hostbinding"),Kp=s(" decorator. You can find this example on Stackblitz "),Ce=o("a"),Qp=s("here"),Vp=s("."),Cs=r(),G=o("p"),Zp=s("Let’s take a look at our "),yn=o("code"),$p=s("dropdown.directive.ts"),el=s(" file now."),Is=r(),Ie=o("pre"),As=r(),b=o("p"),tl=s("Notice that we’re not injecting anything into our "),En=o("code"),nl=s("DropdownDirective"),sl=s(" class. This is because we don’t really need access to the element. We just need to bind the "),bn=o("code"),al=s("isOpen"),ol=s(" property to whether or not the open class is applied to the host element. We can do that by passing a CSS selector prefixed with "),Dn=o("code"),pl=s("class"),ll=s(". into the "),_n=o("code"),il=s("HostBinding"),cl=s(" decorator. If the open class is set on the host element, it will return true. Otherwise, it will return false."),Ls=r(),Ye=o("p"),rl=s("Note: You can bind to as many properties on the host element as needed. In our case, we only need one."),Ts=r(),w=o("p"),ul=s("In the "),On=o("code"),dl=s("toggleDropdown"),hl=s(" function, we can add/remove the "),gn=o("code"),fl=s("open"),kl=s(" class from the host element by setting the "),Cn=o("code"),wl=s("isOpen"),vl=s(" property to the opposite boolean value. When the function annotated by the "),In=o("code"),ml=s("HostListener"),yl=s(" decorator changes a property on the directive class bound to the DOM property, we do not have to manually change the it with an "),An=o("code"),El=s("ElementRef"),bl=s(" or the "),Ln=o("code"),Dl=s("Renderer"),_l=s(". Instead, Angular automatically checks host property bindings during change detection, and if a binding changes it updates the host element of the directive using a version of the Renderer."),Ps=r(),Ne=o("p"),Ol=s("The benefits of using this method include:"),Ms=r(),R=o("ul"),Tn=o("li"),gl=s("Our DOM is decouple from the rendering layer"),Cl=r(),Pn=o("li"),Il=s("Avoid vulnerability to XSS attacks by referencing the DOM directly"),Al=r(),Mn=o("li"),Ll=s("Easier to test and improves the readability"),xs=r(),Ae=o("h2"),Tl=s("Conclusion"),Le=o("a"),xn=o("span"),Hs=r(),W=o("p"),Pl=s("Avoid accessing and manipulating the DOM directly. Instead, use the "),Hn=o("code"),Ml=s("Hostbinding"),xl=s(" and "),Sn=o("code"),Hl=s("HostListener"),Sl=s(" decorators to avoid any vulnerabilities, decouple the rendering layer from the DOM, and improve testability."),this.h()},l(e){N=p(e,"P",{});var i=l(N);Te=p(i,"IMG",{src:!0,alt:!0}),i.forEach(n),Rn=u(e),ee=p(e,"PRE",{class:!0});var tr=l(ee);tr.forEach(n),Wn=u(e),Pe=p(e,"P",{});var jl=l(Pe);Bs=a(jl,"You’re working on an Angular app trying to add an interactive UI element like a simple dropdown menu. You have twenty browser tabs open and you’re trying to learn the “Angular way” of doing it. You want to follow best practices, but your frustration level is rising and you find yourself thinking why is it so difficult to do something that would have taken 10 minutes with Jquery and Bootstrap. Sound familiar? If it does, you’ve come to the right place."),jl.forEach(n),jn=u(e),Me=p(e,"P",{});var ql=l(Me);Ys=a(ql,"Don’t sweat it— you’ve got this! It’s actually the perfect use case for a custom attribute directive and I will cover everything you need to know in order to implement your own in minutes. Let’s dive in!"),ql.forEach(n),qn=u(e),te=p(e,"H2",{id:!0});var Bl=l(te);Ns=a(Bl,"What It Is"),Bl.forEach(n),ne=p(e,"A",{href:!0});var Yl=l(ne);Ze=p(Yl,"SPAN",{class:!0}),l(Ze).forEach(n),Yl.forEach(n),Bn=u(e),_=p(e,"P",{});var X=l(_);Us=a(X,"Attribute directives change the appearance or behavior of an element, component, or another directive. Essentially, it is a class annotated with the Directive decorator where you specify what change you want to occur and what CSS event (if any) you want to trigger that change. "),$e=p(X,"CODE",{});var Nl=l($e);zs=a(Nl,"ngClass"),Nl.forEach(n),Js=a(X,", "),et=p(X,"CODE",{});var Ul=l(et);Fs=a(Ul,"ngStyle"),Ul.forEach(n),Gs=a(X,", and "),tt=p(X,"CODE",{});var zl=l(tt);Xs=a(zl,"ngModel"),zl.forEach(n),Ks=a(X," are examples of attribute directives built-in to the Angular framework."),X.forEach(n),Yn=u(e),se=p(e,"H2",{id:!0});var Jl=l(se);Qs=a(Jl,"When to Use It"),Jl.forEach(n),ae=p(e,"A",{href:!0});var Fl=l(ae);nt=p(Fl,"SPAN",{class:!0}),l(nt).forEach(n),Fl.forEach(n),Nn=u(e),xe=p(e,"P",{});var Gl=l(xe);Vs=a(Gl,"You would use an attribute directive anytime you want logic or events to change the appearance or behavior of the view. Dropdowns, accordions, and tabs are just a few common use cases for custom attribute directives. When you have a UI element that will be common throughout your app, you can implement an attribute directive and share it across components and modules to avoid repeating the code for the same functionality."),Gl.forEach(n),Un=u(e),oe=p(e,"H2",{id:!0});var Xl=l(oe);Zs=a(Xl,"Getting Started"),Xl.forEach(n),pe=p(e,"A",{href:!0});var Kl=l(pe);st=p(Kl,"SPAN",{class:!0}),l(st).forEach(n),Kl.forEach(n),zn=u(e),He=p(e,"P",{});var Ql=l(He);$s=a(Ql,"Before I get into how attribute directives work, I need to explain a few things. In order for attribute directives to accomplish what we want them to accomplish, they need to be able to access and modify DOM elements. There are three ways to accomplish this in an Angular directive:"),Ql.forEach(n),Jn=u(e),T=p(e,"OL",{});var Ue=l(T);at=p(Ue,"LI",{});var Vl=l(at);ea=a(Vl,"ElementRef"),Vl.forEach(n),ta=u(Ue),ot=p(Ue,"LI",{});var Zl=l(ot);na=a(Zl,"Renderer"),Zl.forEach(n),sa=u(Ue),pt=p(Ue,"LI",{});var $l=l(pt);aa=a($l,"HostBinding (This should be your default)"),$l.forEach(n),Ue.forEach(n),Fn=u(e),Se=p(e,"P",{});var ei=l(Se);oa=a(ei,"I will show you examples of a dropdown menu that uses each one of these methods as I explain how they work. The HTML and CSS in each example will be exactly the same. Only the code in the Dropdown class will change from example to example."),ei.forEach(n),Gn=u(e),Re=p(e,"P",{});var ti=l(Re);pa=a(ti,"The HTML:"),ti.forEach(n),Xn=u(e),le=p(e,"PRE",{class:!0});var nr=l(le);nr.forEach(n),Kn=u(e),We=p(e,"P",{});var ni=l(We);la=a(ni,"The CSS:"),ni.forEach(n),Qn=u(e),ie=p(e,"PRE",{class:!0});var sr=l(ie);sr.forEach(n),Vn=u(e),m=p(e,"P",{});var L=l(m);ia=a(L,"The dropdown directive will add or remove the open class to the button element when the click event is emitted. The button class has a sibling div containing the dropdown links with a class of "),lt=p(L,"CODE",{});var si=l(lt);ca=a(si,"dropdown"),si.forEach(n),ra=a(L,". By default, the display property of the dropdown div is set to none. When the dropdown directive applies the "),it=p(L,"CODE",{});var ai=l(it);ua=a(ai,"open"),ai.forEach(n),da=a(L," class to the dropdown button, the "),ct=p(L,"CODE",{});var oi=l(ct);ha=a(oi,"display"),oi.forEach(n),fa=a(L," property of the dropdown div is set to "),rt=p(L,"CODE",{});var pi=l(rt);ka=a(pi,"block"),pi.forEach(n),wa=a(L," further down in the cascade, making it visible. With this setup, adding and removing the "),ut=p(L,"CODE",{});var li=l(ut);va=a(li,"open"),li.forEach(n),ma=a(L," class will be how we display or hide the dropdown list."),L.forEach(n),Zn=u(e),ce=p(e,"H2",{id:!0});var ii=l(ce);ya=a(ii,"Attribute Directive using ElementRef"),ii.forEach(n),re=p(e,"A",{href:!0});var ci=l(re);dt=p(ci,"SPAN",{class:!0}),l(dt).forEach(n),ci.forEach(n),$n=u(e),U=p(e,"P",{});var Ss=l(U);Ea=a(Ss,"In this section, we will look at a dropdown directive implementation using ElementRef. You can find the example to which I will refer on Stackblitz "),ue=p(Ss,"A",{href:!0,rel:!0});var ri=l(ue);ba=a(ri,"here"),ri.forEach(n),Da=a(Ss,"."),Ss.forEach(n),es=u(e),je=p(e,"P",{});var ui=l(je);_a=a(ui,"In this example, this is how our dropdown directive looks:"),ui.forEach(n),ts=u(e),de=p(e,"PRE",{class:!0});var ar=l(de);ar.forEach(n),ns=u(e),O=p(e,"P",{});var K=l(O);Oa=a(K,"We have an attribute directive, "),ht=p(K,"CODE",{});var di=l(ht);ga=a(di,"aDropdownDirective"),di.forEach(n),Ca=a(K," class annotated with the "),ft=p(K,"CODE",{});var hi=l(ft);Ia=a(hi,"Directive"),hi.forEach(n),Aa=a(K," decorator. Generally, decorators in Angular contain metadata the compiler needs to understand how a class should be processed, instantiated, and used at runtime. The only property required by a directive is the "),kt=p(K,"CODE",{});var fi=l(kt);La=a(fi,"selector"),fi.forEach(n),Ta=a(K," property."),K.forEach(n),ss=u(e),he=p(e,"H2",{id:!0});var ki=l(he);Pa=a(ki,"How to use the Dropdown Directive"),ki.forEach(n),fe=p(e,"A",{href:!0});var wi=l(fe);wt=p(wi,"SPAN",{class:!0}),l(wt).forEach(n),wi.forEach(n),as=u(e),P=p(e,"P",{});var ze=l(P);Ma=a(ze,"First, we need to import it into our module by adding it to the declarations array. Then we use the dropdown directive by placing the value of the "),vt=p(ze,"CODE",{});var vi=l(vt);xa=a(vi,"selector"),vi.forEach(n),Ha=a(ze," property on the desired HTML element as if it were an attribute. In our case, it is "),mt=p(ze,"CODE",{});var mi=l(mt);Sa=a(mi,"appDropdown"),mi.forEach(n),Ra=a(ze,"."),ze.forEach(n),os=u(e),z=p(e,"P",{});var Rs=l(z);Wa=a(Rs,"You can set the "),yt=p(Rs,"CODE",{});var yi=l(yt);ja=a(yi,"selector"),yi.forEach(n),qa=a(Rs," property to whatever you want, but by convention, it is the name of your class prefixed with something relevant to your project. The reason for the prefix is to help avoid collisions with standard HTML attributes and other directives used by any 3rd-party libraries you may be importing."),Rs.forEach(n),ps=u(e),ke=p(e,"H2",{id:!0});var Ei=l(ke);Ba=a(Ei,"How it Works"),Ei.forEach(n),we=p(e,"A",{href:!0});var bi=l(we);Et=p(bi,"SPAN",{class:!0}),l(Et).forEach(n),bi.forEach(n),ls=u(e),g=p(e,"P",{});var Q=l(g);Ya=a(Q,"When the template parser reaches the button element on which we placed our "),bt=p(Q,"CODE",{});var Di=l(bt);Na=a(Di,"appDropdown"),Di.forEach(n),Ua=a(Q," directive, the Angular compiler searches for a directive with a selector set to "),Dt=p(Q,"CODE",{});var _i=l(Dt);za=a(_i,"appDropdown"),_i.forEach(n),Ja=a(Q," and instantiates the class associated with it: The "),_t=p(Q,"CODE",{});var Oi=l(_t);Fa=a(Oi,"DropdownDirective"),Oi.forEach(n),Ga=a(Q," class."),Q.forEach(n),is=u(e),C=p(e,"P",{});var V=l(C);Xa=a(V,"In order to add and remove the "),Ot=p(V,"CODE",{});var gi=l(Ot);Ka=a(gi,"open"),gi.forEach(n),Qa=a(V," class and make our directive function, we need to access the button element on which we placed our directive. We can accomplish that by passing an object of type "),gt=p(V,"CODE",{});var Ci=l(gt);Va=a(Ci,"ElementRef"),Ci.forEach(n),Za=a(V," into the constructor of our directive. The Angular compiler understands that we want a reference to the host element injected into our directive and assigned to the "),Ct=p(V,"CODE",{});var Ii=l(Ct);$a=a(Ii,"elRef"),Ii.forEach(n),eo=a(V," property. In this example, the host element is the button element because it is the element on which our dropdown directive is placed."),V.forEach(n),cs=u(e),M=p(e,"P",{});var Je=l(M);to=a(Je,"The "),It=p(Je,"CODE",{});var Ai=l(It);no=a(Ai,"HostListener"),Ai.forEach(n),so=a(Je," decorator allows us to specify what CSS event we want to listen for on the host element (our button element) and the function we want to execute when that event is emitted. In this example, the "),At=p(Je,"CODE",{});var Li=l(At);ao=a(Li,"toggleDropdown"),Li.forEach(n),oo=a(Je," function will be executed when a user clicks on the button element."),Je.forEach(n),rs=u(e),I=p(e,"P",{});var Z=l(I);po=a(Z,"In terms of Jquery, think of the "),Lt=p(Z,"CODE",{});var Ti=l(Lt);lo=a(Ti,"HostListener"),Ti.forEach(n),io=a(Z," as the event method (think "),Tt=p(Z,"CODE",{});var Pi=l(Tt);co=a(Pi,".click()"),Pi.forEach(n),ro=a(Z,") and the "),Pt=p(Z,"CODE",{});var Mi=l(Pt);uo=a(Mi,"toggleDropdown"),Mi.forEach(n),ho=a(Z," function as the callback you want to execute when the event is triggered."),Z.forEach(n),us=u(e),y=p(e,"P",{});var j=l(y);fo=a(j,"You might be thinking "),Mt=p(j,"EM",{});var xi=l(Mt);ko=a(xi,"The HostListener is weird. Can’t I just attach an event listener manually?"),xi.forEach(n),wo=a(j," The short answer is "),xt=p(j,"EM",{});var Hi=l(xt);vo=a(Hi,"Not Safely"),Hi.forEach(n),mo=a(j,". The "),Ht=p(j,"CODE",{});var Si=l(Ht);yo=a(Si,"HostListener"),Si.forEach(n),Eo=a(j," decorator solves some really important problems for you. In the "),ve=p(j,"A",{href:!0,rel:!0});var Ri=l(ve);bo=a(Ri,"Angular Docs"),Ri.forEach(n),Do=a(j,", you will find the following excerpt:"),j.forEach(n),ds=u(e),J=p(e,"BLOCKQUOTE",{});var Ws=l(J);St=p(Ws,"P",{});var Wi=l(St);_o=a(Wi,`Of course you could reach into the DOM with standard JavaScript and attach
event listeners manually. There are at least three problems with that approach:`),Wi.forEach(n),Oo=u(Ws),Y=p(Ws,"OL",{});var Fe=l(Y);Rt=p(Fe,"LI",{});var ji=l(Rt);Wt=p(ji,"P",{});var qi=l(Wt);go=a(qi,"You have to write listeners correctly."),qi.forEach(n),ji.forEach(n),Co=u(Fe),jt=p(Fe,"LI",{});var Bi=l(jt);qt=p(Bi,"P",{});var Yi=l(qt);Io=a(Yi,`The code must detach the the listener when the directive is destroyed to avoid
memory leaks.`),Yi.forEach(n),Bi.forEach(n),Ao=u(Fe),Bt=p(Fe,"LI",{});var Ni=l(Bt);Yt=p(Ni,"P",{});var Ui=l(Yt);Lo=a(Ui,"Talking to DOM API directly isn’t a best practice"),Ui.forEach(n),Ni.forEach(n),Fe.forEach(n),Ws.forEach(n),hs=u(e),h=p(e,"P",{});var k=l(h);To=a(k,"Now, let’s take a look at what is happening inside of the "),Nt=p(k,"CODE",{});var zi=l(Nt);Po=a(zi,"toggleClass"),zi.forEach(n),Mo=a(k," function. We get the DOM representation of the button element from the "),Ut=p(k,"CODE",{});var Ji=l(Ut);xo=a(Ji,"nativeElement"),Ji.forEach(n),Ho=a(k," property the same as if we were to use a Jquery element selector. If the "),zt=p(k,"CODE",{});var Fi=l(zt);So=a(Fi,"classList"),Fi.forEach(n),Ro=a(k," DOM property contains the "),Jt=p(k,"CODE",{});var Gi=l(Jt);Wo=a(Gi,"open"),Gi.forEach(n),jo=a(k," class, "),Ft=p(k,"CODE",{});var Xi=l(Ft);qo=a(Xi,"isOpen"),Xi.forEach(n),Bo=a(k," is true and the "),Gt=p(k,"CODE",{});var Ki=l(Gt);Yo=a(Ki,"toggle"),Ki.forEach(n),No=a(k," method removes the "),Xt=p(k,"CODE",{});var Qi=l(Xt);Uo=a(Qi,"open"),Qi.forEach(n),zo=a(k," class and closes the dropdown. Likewise, if the open class is not found in the "),Kt=p(k,"CODE",{});var Vi=l(Kt);Jo=a(Vi,"classList"),Vi.forEach(n),Fo=a(k,", "),Qt=p(k,"CODE",{});var Zi=l(Qt);Go=a(Zi,"isOpen"),Zi.forEach(n),Xo=a(k," is false and the toggle method adds the "),Vt=p(k,"CODE",{});var $i=l(Vt);Ko=a($i,"open"),$i.forEach(n),Qo=a(k," class and opens the dropdown."),k.forEach(n),fs=u(e),A=p(e,"P",{});var $=l(A);Vo=a($,"Remember when we we decided earlier that we should use the "),Zt=p($,"CODE",{});var ec=l(Zt);Zo=a(ec,"HostListener"),ec.forEach(n),$o=a($," decorator because it is not a good idea to access the DOM directly? Using "),$t=p($,"CODE",{});var tc=l($t);ep=a(tc,"ElementRef"),tc.forEach(n),tp=a($," to access the DOM and manipulate it is doing just that. Permitting direct access to the DOM like this can make your app more vulnerable to XSS attacks. For information, check out the "),me=p($,"A",{href:!0,rel:!0});var nc=l(me);np=a(nc,"Angular security guide"),nc.forEach(n),sp=a($,"."),$.forEach(n),ks=u(e),qe=p(e,"P",{});var sc=l(qe);ap=a(sc,"In addition, this method of manipulating the DOM tightly couples the DOM and the rendering layer. This is problematic if you ever want to use web/service workers, as they cannot directly access the DOM. Luckily, there is an alternative method out there which leads me to the second way to implement the dropdown attribute directive."),sc.forEach(n),ws=u(e),ye=p(e,"H2",{id:!0});var ac=l(ye);op=a(ac,"Attribute Directive using Renderer2"),ac.forEach(n),Ee=p(e,"A",{href:!0});var oc=l(Ee);en=p(oc,"SPAN",{class:!0}),l(en).forEach(n),oc.forEach(n),vs=u(e),x=p(e,"P",{});var Ge=l(x);pp=a(Ge,"The "),be=p(Ge,"A",{href:!0,rel:!0});var pc=l(be);lp=a(pc,"Renderer2"),pc.forEach(n),ip=a(Ge," API offers a way to bypass Angular’s templating and make custom UI changes that can’t be expressed declaratively. That means that web and service workers can safely use this method. You can find this example on Stackblitz "),De=p(Ge,"A",{href:!0,rel:!0});var lc=l(De);cp=a(lc,"here"),lc.forEach(n),rp=a(Ge,"."),Ge.forEach(n),ms=u(e),F=p(e,"P",{});var js=l(F);up=a(js,"Let’s take a look at what our "),tn=p(js,"CODE",{});var ic=l(tn);dp=a(ic,"dropdown.directive.ts"),ic.forEach(n),hp=a(js," file looks like now."),js.forEach(n),ys=u(e),_e=p(e,"PRE",{class:!0});var or=l(_e);or.forEach(n),Es=u(e),H=p(e,"P",{});var Xe=l(H);fp=a(Xe,"Note that we still inject the "),nn=p(Xe,"CODE",{});var cc=l(nn);kp=a(cc,"ElementRef"),cc.forEach(n),wp=a(Xe," to get the reference to the host element; however, we inject the "),sn=p(Xe,"CODE",{});var rc=l(sn);vp=a(rc,"Renderer2"),rc.forEach(n),mp=a(Xe," in order to make changes to the view."),Xe.forEach(n),bs=u(e),f=p(e,"P",{});var v=l(f);yp=a(v,"Like in the previous example, we get the "),an=p(v,"CODE",{});var uc=l(an);Ep=a(uc,"isOpen"),uc.forEach(n),bp=a(v," boolean value by checking to see if the "),on=p(v,"CODE",{});var dc=l(on);Dp=a(dc,"classList"),dc.forEach(n),_p=a(v," property contains the "),pn=p(v,"CODE",{});var hc=l(pn);Op=a(hc,"open"),hc.forEach(n),gp=a(v," class. If true, the dropdown is open and we use the "),ln=p(v,"CODE",{});var fc=l(ln);Cp=a(fc,"removeClass"),fc.forEach(n),Ip=a(v," method on the Renderer2 API to remove the "),cn=p(v,"CODE",{});var kc=l(cn);Ap=a(kc,"open"),kc.forEach(n),Lp=a(v," class and close the dropdown. Inversely, if "),rn=p(v,"CODE",{});var wc=l(rn);Tp=a(wc,"isOpen"),wc.forEach(n),Pp=a(v," is false, we call the "),un=p(v,"CODE",{});var vc=l(un);Mp=a(vc,"addClass"),vc.forEach(n),xp=a(v," method on the Renderer2 API to add the "),dn=p(v,"CODE",{});var mc=l(dn);Hp=a(mc,"open"),mc.forEach(n),Sp=a(v," class and open the dropdown."),v.forEach(n),Ds=u(e),Be=p(e,"P",{});var yc=l(Be);Rp=a(yc,"By using the Renderer2 API, we intercept calls to the renderer and modify the template rather than making changes to the DOM directly. This decouples the rendering layers and the DOM, making the use of web/service workers possible."),yc.forEach(n),_s=u(e),S=p(e,"P",{});var Ke=l(S);Wp=a(Ke,"As we discussed earlier, because we’re still injecting the "),hn=p(Ke,"CODE",{});var Ec=l(hn);jp=a(Ec,"ElementRef"),Ec.forEach(n),qp=a(Ke," there is still the the possibility that we are introducing a security vulnerability into our application. We can solve this problem with the "),fn=p(Ke,"CODE",{});var bc=l(fn);Bp=a(bc,"HostBinding"),bc.forEach(n),Yp=a(Ke," decorator, which leads me to the third way to implement an attribute directive."),Ke.forEach(n),Os=u(e),Oe=p(e,"H2",{id:!0});var Dc=l(Oe);Np=a(Dc,"Attribute Directive with HostBinding"),Dc.forEach(n),ge=p(e,"A",{href:!0});var _c=l(ge);kn=p(_c,"SPAN",{class:!0}),l(kn).forEach(n),_c.forEach(n),gs=u(e),E=p(e,"P",{});var q=l(E);Up=a(q,"The "),wn=p(q,"CODE",{});var Oc=l(wn);zp=a(Oc,"HostingBinding"),Oc.forEach(n),Jp=a(q," decorator allows us to mark a DOM property as a host-binding property. In other words, we can bind a DOM property on the host element to local property on our "),vn=p(q,"CODE",{});var gc=l(vn);Fp=a(gc,"DropdownDirective"),gc.forEach(n),Gp=a(q," class by passing the DOM property into the "),mn=p(q,"CODE",{});var Cc=l(mn);Xp=a(Cc,"Hostbinding"),Cc.forEach(n),Kp=a(q," decorator. You can find this example on Stackblitz "),Ce=p(q,"A",{href:!0,rel:!0});var Ic=l(Ce);Qp=a(Ic,"here"),Ic.forEach(n),Vp=a(q,"."),q.forEach(n),Cs=u(e),G=p(e,"P",{});var qs=l(G);Zp=a(qs,"Let’s take a look at our "),yn=p(qs,"CODE",{});var Ac=l(yn);$p=a(Ac,"dropdown.directive.ts"),Ac.forEach(n),el=a(qs," file now."),qs.forEach(n),Is=u(e),Ie=p(e,"PRE",{class:!0});var pr=l(Ie);pr.forEach(n),As=u(e),b=p(e,"P",{});var B=l(b);tl=a(B,"Notice that we’re not injecting anything into our "),En=p(B,"CODE",{});var Lc=l(En);nl=a(Lc,"DropdownDirective"),Lc.forEach(n),sl=a(B," class. This is because we don’t really need access to the element. We just need to bind the "),bn=p(B,"CODE",{});var Tc=l(bn);al=a(Tc,"isOpen"),Tc.forEach(n),ol=a(B," property to whether or not the open class is applied to the host element. We can do that by passing a CSS selector prefixed with "),Dn=p(B,"CODE",{});var Pc=l(Dn);pl=a(Pc,"class"),Pc.forEach(n),ll=a(B,". into the "),_n=p(B,"CODE",{});var Mc=l(_n);il=a(Mc,"HostBinding"),Mc.forEach(n),cl=a(B," decorator. If the open class is set on the host element, it will return true. Otherwise, it will return false."),B.forEach(n),Ls=u(e),Ye=p(e,"P",{});var xc=l(Ye);rl=a(xc,"Note: You can bind to as many properties on the host element as needed. In our case, we only need one."),xc.forEach(n),Ts=u(e),w=p(e,"P",{});var D=l(w);ul=a(D,"In the "),On=p(D,"CODE",{});var Hc=l(On);dl=a(Hc,"toggleDropdown"),Hc.forEach(n),hl=a(D," function, we can add/remove the "),gn=p(D,"CODE",{});var Sc=l(gn);fl=a(Sc,"open"),Sc.forEach(n),kl=a(D," class from the host element by setting the "),Cn=p(D,"CODE",{});var Rc=l(Cn);wl=a(Rc,"isOpen"),Rc.forEach(n),vl=a(D," property to the opposite boolean value. When the function annotated by the "),In=p(D,"CODE",{});var Wc=l(In);ml=a(Wc,"HostListener"),Wc.forEach(n),yl=a(D," decorator changes a property on the directive class bound to the DOM property, we do not have to manually change the it with an "),An=p(D,"CODE",{});var jc=l(An);El=a(jc,"ElementRef"),jc.forEach(n),bl=a(D," or the "),Ln=p(D,"CODE",{});var qc=l(Ln);Dl=a(qc,"Renderer"),qc.forEach(n),_l=a(D,". Instead, Angular automatically checks host property bindings during change detection, and if a binding changes it updates the host element of the directive using a version of the Renderer."),D.forEach(n),Ps=u(e),Ne=p(e,"P",{});var Bc=l(Ne);Ol=a(Bc,"The benefits of using this method include:"),Bc.forEach(n),Ms=u(e),R=p(e,"UL",{});var Qe=l(R);Tn=p(Qe,"LI",{});var Yc=l(Tn);gl=a(Yc,"Our DOM is decouple from the rendering layer"),Yc.forEach(n),Cl=u(Qe),Pn=p(Qe,"LI",{});var Nc=l(Pn);Il=a(Nc,"Avoid vulnerability to XSS attacks by referencing the DOM directly"),Nc.forEach(n),Al=u(Qe),Mn=p(Qe,"LI",{});var Uc=l(Mn);Ll=a(Uc,"Easier to test and improves the readability"),Uc.forEach(n),Qe.forEach(n),xs=u(e),Ae=p(e,"H2",{id:!0});var zc=l(Ae);Tl=a(zc,"Conclusion"),zc.forEach(n),Le=p(e,"A",{href:!0});var Jc=l(Le);xn=p(Jc,"SPAN",{class:!0}),l(xn).forEach(n),Jc.forEach(n),Hs=u(e),W=p(e,"P",{});var Ve=l(W);Pl=a(Ve,"Avoid accessing and manipulating the DOM directly. Instead, use the "),Hn=p(Ve,"CODE",{});var Fc=l(Hn);Ml=a(Fc,"Hostbinding"),Fc.forEach(n),xl=a(Ve," and "),Sn=p(Ve,"CODE",{});var Gc=l(Sn);Hl=a(Gc,"HostListener"),Gc.forEach(n),Sl=a(Ve," decorators to avoid any vulnerabilities, decouple the rendering layer from the DOM, and improve testability."),Ve.forEach(n),this.h()},h(){rr(Te.src,Wl="/static/images/attribute-directives/roadsigns.webp")||d(Te,"src",Wl),d(Te,"alt","Road Signs"),d(ee,"class","language-text"),d(te,"id","what-it-is"),d(Ze,"class","icon icon-link"),d(ne,"href","#what-it-is"),d(se,"id","when-to-use-it"),d(nt,"class","icon icon-link"),d(ae,"href","#when-to-use-it"),d(oe,"id","getting-started"),d(st,"class","icon icon-link"),d(pe,"href","#getting-started"),d(le,"class","language-html"),d(ie,"class","language-css"),d(ce,"id","attribute-directive-using-elementref"),d(dt,"class","icon icon-link"),d(re,"href","#attribute-directive-using-elementref"),d(ue,"href","https://stackblitz.com/edit/ng-attribute-directive-elementref-feb-2019"),d(ue,"rel","nofollow"),d(de,"class","language-typescript"),d(he,"id","how-to-use-the-dropdown-directive"),d(wt,"class","icon icon-link"),d(fe,"href","#how-to-use-the-dropdown-directive"),d(ke,"id","how-it-works"),d(Et,"class","icon icon-link"),d(we,"href","#how-it-works"),d(ve,"href","https://angular.io/guide/attribute-directives"),d(ve,"rel","nofollow"),d(me,"href","https://angular.io/guide/security"),d(me,"rel","nofollow"),d(ye,"id","attribute-directive-using-renderer2"),d(en,"class","icon icon-link"),d(Ee,"href","#attribute-directive-using-renderer2"),d(be,"href","https://angular.io/api/core/Renderer2"),d(be,"rel","nofollow"),d(De,"href","https://stackblitz.com/edit/ng-attribute-directive-renderer2-feb-2019"),d(De,"rel","nofollow"),d(_e,"class","language-typescript"),d(Oe,"id","attribute-directive-with-hostbinding"),d(kn,"class","icon icon-link"),d(ge,"href","#attribute-directive-with-hostbinding"),d(Ce,"href","https://stackblitz.com/edit/ng-attribute-directive-hostbinding-feb-2019?file=src%2Fapp%2Fdropdown.directive.ts"),d(Ce,"rel","nofollow"),d(Ie,"class","language-typescript"),d(Ae,"id","conclusion"),d(xn,"class","icon icon-link"),d(Le,"href","#conclusion")},m(e,i){c(e,N,i),t(N,Te),c(e,Rn,i),c(e,ee,i),ee.innerHTML=Kc,c(e,Wn,i),c(e,Pe,i),t(Pe,Bs),c(e,jn,i),c(e,Me,i),t(Me,Ys),c(e,qn,i),c(e,te,i),t(te,Ns),c(e,ne,i),t(ne,Ze),c(e,Bn,i),c(e,_,i),t(_,Us),t(_,$e),t($e,zs),t(_,Js),t(_,et),t(et,Fs),t(_,Gs),t(_,tt),t(tt,Xs),t(_,Ks),c(e,Yn,i),c(e,se,i),t(se,Qs),c(e,ae,i),t(ae,nt),c(e,Nn,i),c(e,xe,i),t(xe,Vs),c(e,Un,i),c(e,oe,i),t(oe,Zs),c(e,pe,i),t(pe,st),c(e,zn,i),c(e,He,i),t(He,$s),c(e,Jn,i),c(e,T,i),t(T,at),t(at,ea),t(T,ta),t(T,ot),t(ot,na),t(T,sa),t(T,pt),t(pt,aa),c(e,Fn,i),c(e,Se,i),t(Se,oa),c(e,Gn,i),c(e,Re,i),t(Re,pa),c(e,Xn,i),c(e,le,i),le.innerHTML=Qc,c(e,Kn,i),c(e,We,i),t(We,la),c(e,Qn,i),c(e,ie,i),ie.innerHTML=Vc,c(e,Vn,i),c(e,m,i),t(m,ia),t(m,lt),t(lt,ca),t(m,ra),t(m,it),t(it,ua),t(m,da),t(m,ct),t(ct,ha),t(m,fa),t(m,rt),t(rt,ka),t(m,wa),t(m,ut),t(ut,va),t(m,ma),c(e,Zn,i),c(e,ce,i),t(ce,ya),c(e,re,i),t(re,dt),c(e,$n,i),c(e,U,i),t(U,Ea),t(U,ue),t(ue,ba),t(U,Da),c(e,es,i),c(e,je,i),t(je,_a),c(e,ts,i),c(e,de,i),de.innerHTML=Zc,c(e,ns,i),c(e,O,i),t(O,Oa),t(O,ht),t(ht,ga),t(O,Ca),t(O,ft),t(ft,Ia),t(O,Aa),t(O,kt),t(kt,La),t(O,Ta),c(e,ss,i),c(e,he,i),t(he,Pa),c(e,fe,i),t(fe,wt),c(e,as,i),c(e,P,i),t(P,Ma),t(P,vt),t(vt,xa),t(P,Ha),t(P,mt),t(mt,Sa),t(P,Ra),c(e,os,i),c(e,z,i),t(z,Wa),t(z,yt),t(yt,ja),t(z,qa),c(e,ps,i),c(e,ke,i),t(ke,Ba),c(e,we,i),t(we,Et),c(e,ls,i),c(e,g,i),t(g,Ya),t(g,bt),t(bt,Na),t(g,Ua),t(g,Dt),t(Dt,za),t(g,Ja),t(g,_t),t(_t,Fa),t(g,Ga),c(e,is,i),c(e,C,i),t(C,Xa),t(C,Ot),t(Ot,Ka),t(C,Qa),t(C,gt),t(gt,Va),t(C,Za),t(C,Ct),t(Ct,$a),t(C,eo),c(e,cs,i),c(e,M,i),t(M,to),t(M,It),t(It,no),t(M,so),t(M,At),t(At,ao),t(M,oo),c(e,rs,i),c(e,I,i),t(I,po),t(I,Lt),t(Lt,lo),t(I,io),t(I,Tt),t(Tt,co),t(I,ro),t(I,Pt),t(Pt,uo),t(I,ho),c(e,us,i),c(e,y,i),t(y,fo),t(y,Mt),t(Mt,ko),t(y,wo),t(y,xt),t(xt,vo),t(y,mo),t(y,Ht),t(Ht,yo),t(y,Eo),t(y,ve),t(ve,bo),t(y,Do),c(e,ds,i),c(e,J,i),t(J,St),t(St,_o),t(J,Oo),t(J,Y),t(Y,Rt),t(Rt,Wt),t(Wt,go),t(Y,Co),t(Y,jt),t(jt,qt),t(qt,Io),t(Y,Ao),t(Y,Bt),t(Bt,Yt),t(Yt,Lo),c(e,hs,i),c(e,h,i),t(h,To),t(h,Nt),t(Nt,Po),t(h,Mo),t(h,Ut),t(Ut,xo),t(h,Ho),t(h,zt),t(zt,So),t(h,Ro),t(h,Jt),t(Jt,Wo),t(h,jo),t(h,Ft),t(Ft,qo),t(h,Bo),t(h,Gt),t(Gt,Yo),t(h,No),t(h,Xt),t(Xt,Uo),t(h,zo),t(h,Kt),t(Kt,Jo),t(h,Fo),t(h,Qt),t(Qt,Go),t(h,Xo),t(h,Vt),t(Vt,Ko),t(h,Qo),c(e,fs,i),c(e,A,i),t(A,Vo),t(A,Zt),t(Zt,Zo),t(A,$o),t(A,$t),t($t,ep),t(A,tp),t(A,me),t(me,np),t(A,sp),c(e,ks,i),c(e,qe,i),t(qe,ap),c(e,ws,i),c(e,ye,i),t(ye,op),c(e,Ee,i),t(Ee,en),c(e,vs,i),c(e,x,i),t(x,pp),t(x,be),t(be,lp),t(x,ip),t(x,De),t(De,cp),t(x,rp),c(e,ms,i),c(e,F,i),t(F,up),t(F,tn),t(tn,dp),t(F,hp),c(e,ys,i),c(e,_e,i),_e.innerHTML=$c,c(e,Es,i),c(e,H,i),t(H,fp),t(H,nn),t(nn,kp),t(H,wp),t(H,sn),t(sn,vp),t(H,mp),c(e,bs,i),c(e,f,i),t(f,yp),t(f,an),t(an,Ep),t(f,bp),t(f,on),t(on,Dp),t(f,_p),t(f,pn),t(pn,Op),t(f,gp),t(f,ln),t(ln,Cp),t(f,Ip),t(f,cn),t(cn,Ap),t(f,Lp),t(f,rn),t(rn,Tp),t(f,Pp),t(f,un),t(un,Mp),t(f,xp),t(f,dn),t(dn,Hp),t(f,Sp),c(e,Ds,i),c(e,Be,i),t(Be,Rp),c(e,_s,i),c(e,S,i),t(S,Wp),t(S,hn),t(hn,jp),t(S,qp),t(S,fn),t(fn,Bp),t(S,Yp),c(e,Os,i),c(e,Oe,i),t(Oe,Np),c(e,ge,i),t(ge,kn),c(e,gs,i),c(e,E,i),t(E,Up),t(E,wn),t(wn,zp),t(E,Jp),t(E,vn),t(vn,Fp),t(E,Gp),t(E,mn),t(mn,Xp),t(E,Kp),t(E,Ce),t(Ce,Qp),t(E,Vp),c(e,Cs,i),c(e,G,i),t(G,Zp),t(G,yn),t(yn,$p),t(G,el),c(e,Is,i),c(e,Ie,i),Ie.innerHTML=er,c(e,As,i),c(e,b,i),t(b,tl),t(b,En),t(En,nl),t(b,sl),t(b,bn),t(bn,al),t(b,ol),t(b,Dn),t(Dn,pl),t(b,ll),t(b,_n),t(_n,il),t(b,cl),c(e,Ls,i),c(e,Ye,i),t(Ye,rl),c(e,Ts,i),c(e,w,i),t(w,ul),t(w,On),t(On,dl),t(w,hl),t(w,gn),t(gn,fl),t(w,kl),t(w,Cn),t(Cn,wl),t(w,vl),t(w,In),t(In,ml),t(w,yl),t(w,An),t(An,El),t(w,bl),t(w,Ln),t(Ln,Dl),t(w,_l),c(e,Ps,i),c(e,Ne,i),t(Ne,Ol),c(e,Ms,i),c(e,R,i),t(R,Tn),t(Tn,gl),t(R,Cl),t(R,Pn),t(Pn,Il),t(R,Al),t(R,Mn),t(Mn,Ll),c(e,xs,i),c(e,Ae,i),t(Ae,Tl),c(e,Le,i),t(Le,xn),c(e,Hs,i),c(e,W,i),t(W,Pl),t(W,Hn),t(Hn,Ml),t(W,xl),t(W,Sn),t(Sn,Hl),t(W,Sl)},p:Rl,i:Rl,o:Rl,d(e){e&&n(N),e&&n(Rn),e&&n(ee),e&&n(Wn),e&&n(Pe),e&&n(jn),e&&n(Me),e&&n(qn),e&&n(te),e&&n(ne),e&&n(Bn),e&&n(_),e&&n(Yn),e&&n(se),e&&n(ae),e&&n(Nn),e&&n(xe),e&&n(Un),e&&n(oe),e&&n(pe),e&&n(zn),e&&n(He),e&&n(Jn),e&&n(T),e&&n(Fn),e&&n(Se),e&&n(Gn),e&&n(Re),e&&n(Xn),e&&n(le),e&&n(Kn),e&&n(We),e&&n(Qn),e&&n(ie),e&&n(Vn),e&&n(m),e&&n(Zn),e&&n(ce),e&&n(re),e&&n($n),e&&n(U),e&&n(es),e&&n(je),e&&n(ts),e&&n(de),e&&n(ns),e&&n(O),e&&n(ss),e&&n(he),e&&n(fe),e&&n(as),e&&n(P),e&&n(os),e&&n(z),e&&n(ps),e&&n(ke),e&&n(we),e&&n(ls),e&&n(g),e&&n(is),e&&n(C),e&&n(cs),e&&n(M),e&&n(rs),e&&n(I),e&&n(us),e&&n(y),e&&n(ds),e&&n(J),e&&n(hs),e&&n(h),e&&n(fs),e&&n(A),e&&n(ks),e&&n(qe),e&&n(ws),e&&n(ye),e&&n(Ee),e&&n(vs),e&&n(x),e&&n(ms),e&&n(F),e&&n(ys),e&&n(_e),e&&n(Es),e&&n(H),e&&n(bs),e&&n(f),e&&n(Ds),e&&n(Be),e&&n(_s),e&&n(S),e&&n(Os),e&&n(Oe),e&&n(ge),e&&n(gs),e&&n(E),e&&n(Cs),e&&n(G),e&&n(Is),e&&n(Ie),e&&n(As),e&&n(b),e&&n(Ls),e&&n(Ye),e&&n(Ts),e&&n(w),e&&n(Ps),e&&n(Ne),e&&n(Ms),e&&n(R),e&&n(xs),e&&n(Ae),e&&n(Le),e&&n(Hs),e&&n(W)}}}const hr={title:"A Practical Approach to Angular Attribute Directives",imageUrl:"/static/roadsigns.webp",imageAlt:"Road Signs",date:"2019-03-03",description:"Learn what attribute directives are and how you can use them",published:!0,tags:["angular"]};class fr extends lr{constructor(N){super(),ir(this,N,null,ur,cr,{})}}export{fr as default,hr as metadata};
